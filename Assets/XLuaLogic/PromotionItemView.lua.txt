PromotionItemView = {}
local this = PromotionItemView;

local gameObject;
local transform;


function PromotionItemView:Init(obj)
    gameObject = obj;
    transform = obj.transform;
    return this;
end

function PromotionItemView:SetData(data)
    print(Rapidjson.encode(data))
    transform:Find("Coin"):GetComponent(typeof(CS.UnityEngine.UI.Text)).text = data.Coins;
    transform:Find("CoinBefore"):GetComponent(typeof(CS.UnityEngine.UI.Text)).text = data.CoinsAmountBefore;
    transform:Find("Gem"):GetComponent(typeof(CS.UnityEngine.UI.Text)).text = data.Gems;
    transform:Find("Vip"):GetComponent(typeof(CS.UnityEngine.UI.Text)).text = data.Vip;
    transform:Find("Sales"):GetComponent(typeof(CS.UnityEngine.UI.Text)).text = data.Sales;
    transform:Find("BuyBtn/Price"):GetComponent(typeof(CS.UnityEngine.UI.Text)).text = data.Price;
    transform:Find("BuyBtn"):GetComponent(typeof(CS.UnityEngine.UI.Button)).onClick:AddListener(
            function()
                CSXLua.PromotionGiftHelper.Purchase(data.Sku);
            end
    );

end
